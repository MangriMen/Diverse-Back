basePath: /api/v1
consumes:
    - application/json
definitions:
    BaseResponseBody:
        properties:
            error:
                example: false
                type: boolean
                x-go-name: Error
            message:
                type: string
                x-go-name: Message
        required:
            - error
            - message
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/models
    BasePost:
        description: BasePost represents the post without userId
        properties:
            content:
                description: The url to the post content
                type: string
                x-go-name: Content
            created_at:
                description: The time the post was created
                format: date-time
                type: string
                x-go-name: CreatedAt
            description:
                description: Post description
                type: string
                x-go-name: Description
            id:
                description: The id for this post
                format: uuid
                type: string
                x-go-name: Id
            likes:
                description: Number of likes
                format: int64
                type: integer
                x-go-name: Likes
        required:
            - id
            - content
            - description
            - created_at
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/models
    BaseUser:
        description: User represents the user without password for this application
        properties:
            avatar_url:
                description: URL to user avatar
                type: string
                x-go-name: Avatar_url
            created_at:
                description: The time the user was registered
                format: date-time
                type: string
                x-go-name: CreatedAt
            email:
                description: The email for this user
                type: string
                x-go-name: Email
            id:
                description: The id for this user
                format: uuid
                type: string
                x-go-name: Id
            name:
                description: The name for this user
                type: string
                x-go-name: Name
            updated_at:
                description: The time the user was updated
                format: date-time
                type: string
                x-go-name: UpdatedAt
            username:
                description: The username for this user
                type: string
                x-go-name: Username
        required:
            - id
            - email
            - username
            - created_at
            - updated_at
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/models
    Comment:
        properties:
            content:
                description: Comment content
                type: string
                x-go-name: Content
            created_at:
                description: The time the comment was created
                format: date-time
                type: string
                x-go-name: CreatedAt
            id:
                description: The id for this comment
                format: uuid
                type: string
                x-go-name: Id
            updated_at:
                description: The time the comment was updated
                format: date-time
                type: string
                x-go-name: UpdatedAt
            user:
                $ref: "#/definitions/User"
        required:
            - id
            - content
            - created_at
            - updated_at
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/models
    CommentAddRequestBody:
        properties:
            content:
                type: string
                x-go-name: Content
        required:
            - content
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/parameters
    CommentUpdateRequestBody:
        properties:
            content:
                type: string
                x-go-name: Content
        required:
            - content
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/parameters
    GetPostResponseBody:
        properties:
            error:
                example: false
                type: boolean
                x-go-name: Error
            message:
                type: string
                x-go-name: Message
            post:
                $ref: "#/definitions/Post"
        required:
            - error
            - message
            - post
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/responses
    GetPostsResponseBody:
        properties:
            count:
                format: int64
                type: integer
                x-go-name: Count
            error:
                example: false
                type: boolean
                x-go-name: Error
            message:
                type: string
                x-go-name: Message
            posts:
                items:
                    $ref: "#/definitions/Post"
                type: array
                x-go-name: Posts
        required:
            - error
            - message
            - count
            - posts
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/responses
    GetUserResponseBody:
        properties:
            error:
                example: false
                type: boolean
                x-go-name: Error
            message:
                type: string
                x-go-name: Message
            user:
                $ref: "#/definitions/User"
        required:
            - error
            - message
            - user
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/responses
    GetUsersResponseBody:
        properties:
            count:
                format: int64
                type: integer
                x-go-name: Count
            error:
                example: false
                type: boolean
                x-go-name: Error
            message:
                type: string
                x-go-name: Message
            users:
                items:
                    $ref: "#/definitions/User"
                type: array
                x-go-name: Users
        required:
            - error
            - message
            - count
            - users
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/responses
    LoginRequestBody:
        properties:
            email:
                maxLength: 255
                minLength: 6
                type: string
                x-go-name: Email
            password:
                maxLength: 256
                minLength: 8
                type: string
                x-go-name: Password
        required:
            - email
            - password
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/parameters
    Post:
        description: Post represents the post for this application
        properties:
            comments:
                items:
                    $ref: "#/definitions/Comment"
                type: array
                x-go-name: Comments
            content:
                description: The url to the post content
                type: string
                x-go-name: Content
            created_at:
                description: The time the post was created
                format: date-time
                type: string
                x-go-name: CreatedAt
            description:
                description: Post description
                type: string
                x-go-name: Description
            id:
                description: The id for this post
                format: uuid
                type: string
                x-go-name: Id
            likes:
                description: Number of likes
                format: int64
                type: integer
                x-go-name: Likes
            user:
                $ref: "#/definitions/User"
        required:
            - id
            - content
            - description
            - created_at
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/models
    PostCreateRequestBody:
        properties:
            content:
                type: string
                x-go-name: Content
            description:
                maxLength: 2048
                type: string
                x-go-name: Description
            user_id:
                format: uuid
                type: string
                x-go-name: UserId
        required:
            - content
            - description
            - user_id
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/parameters
    RegisterLoginUserResponseBody:
        properties:
            error:
                example: false
                type: boolean
                x-go-name: Error
            message:
                type: string
                x-go-name: Message
            token:
                type: string
                x-go-name: Token
            user:
                $ref: "#/definitions/User"
        required:
            - error
            - message
            - token
            - user
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/responses
    RegisterRequestBody:
        properties:
            email:
                maxLength: 255
                minLength: 6
                type: string
                x-go-name: Email
            password:
                maxLength: 256
                minLength: 8
                type: string
                x-go-name: Password
            username:
                maxLength: 32
                minLength: 1
                type: string
                x-go-name: Username
        required:
            - email
            - username
            - password
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/parameters
    User:
        description: User represents the user for this application
        properties:
            avatar_url:
                description: URL to user avatar
                type: string
                x-go-name: Avatar_url
            created_at:
                description: The time the user was registered
                format: date-time
                type: string
                x-go-name: CreatedAt
            email:
                description: The email for this user
                type: string
                x-go-name: Email
            id:
                description: The id for this user
                format: uuid
                type: string
                x-go-name: Id
            name:
                description: The name for this user
                type: string
                x-go-name: Name
            updated_at:
                description: The time the user was updated
                format: date-time
                type: string
                x-go-name: UpdatedAt
            username:
                description: The username for this user
                type: string
                x-go-name: Username
        required:
            - id
            - email
            - username
            - created_at
            - updated_at
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/models
    UserUpdateRequestBody:
        properties:
            email:
                maxLength: 255
                minLength: 6
                type: string
                x-go-name: Email
            name:
                maxLength: 32
                type: string
                x-go-name: Name
            password:
                maxLength: 256
                minLength: 8
                type: string
                x-go-name: Password
            username:
                maxLength: 32
                minLength: 1
                type: string
                x-go-name: Username
        type: object
        x-go-package: github.com/MangriMen/Diverse-Back/internal/parameters
host: localhost:3030
info:
    title: Diverse API.
    version: 0.0.1
paths:
    /fetch:
        get:
            description: Get user and new token if user exists
            operationId: fetchUser
            produces:
                - application/json
            responses:
                "201":
                    $ref: "#/responses/RegisterLoginUserResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - User
    /login:
        post:
            description: Returns the user and token by given credentials
            operationId: loginUser
            parameters:
                - in: body
                  name: Body
                  required: true
                  schema:
                      $ref: "#/definitions/LoginRequestBody"
            produces:
                - application/json
            responses:
                "200":
                    $ref: "#/responses/RegisterLoginUserResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            tags:
                - User
    /posts:
        get:
            description: Returns a list of all posts
            operationId: getPosts
            parameters:
                - format: uuid
                  in: query
                  name: last_seen_post_id
                  type: string
                  x-go-name: LastSeenPostId
                - format: date-time
                  in: query
                  name: last_seen_post_created_at
                  type: string
                  x-go-name: LastSeenPostCreatedAt
                - format: int64
                  in: query
                  maximum: 50
                  minimum: 1
                  name: count
                  required: true
                  type: integer
                  x-go-name: Count
            produces:
                - application/json
            responses:
                "200":
                    $ref: "#/responses/GetPostsResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - Post
        post:
            description: Creates the post with given info
            operationId: createPost
            parameters:
                - in: body
                  name: Body
                  required: true
                  schema:
                      $ref: "#/definitions/PostCreateRequestBody"
            produces:
                - application/json
            responses:
                "201":
                    $ref: "#/responses/CreateUpdatePostResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - Post
    /posts/{post}:
        delete:
            description: Delete post by id
            operationId: deletePost
            parameters:
                - format: uuid
                  in: path
                  name: post
                  required: true
                  type: string
                  x-go-name: Post
            produces:
                - application/json
            responses:
                "204":
                    $ref: "#/responses/DeletePostResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - Post
        get:
            description: Returns the post by given id
            operationId: getPost
            parameters:
                - format: uuid
                  in: path
                  name: post
                  required: true
                  type: string
                  x-go-name: Post
            produces:
                - application/json
            responses:
                "200":
                    $ref: "#/responses/GetPostResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - Post
        patch:
            description: Update post by id with given fields
            operationId: updatePost
            parameters:
                - format: uuid
                  in: path
                  name: post
                  required: true
                  type: string
                  x-go-name: Post
            produces:
                - application/json
            responses:
                "201":
                    $ref: "#/responses/CreateUpdatePostResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - Post
    /posts/{post}/comments:
        post:
            description: Add comment to the given post
            operationId: addComment
            parameters:
                - in: body
                  name: Body
                  required: true
                  schema:
                      $ref: "#/definitions/CommentAddRequestBody"
                - format: uuid
                  in: path
                  name: post
                  required: true
                  type: string
                  x-go-name: Post
            produces:
                - application/json
            responses:
                "201":
                    $ref: "#/responses/CreateUpdateCommentResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - Post
    /posts/{post}/comments/{comment}:
        delete:
            description: Delete comment by comment id with given post id
            operationId: deleteComment
            parameters:
                - format: uuid
                  in: path
                  name: comment
                  required: true
                  type: string
                  x-go-name: Comment
                - format: uuid
                  in: path
                  name: post
                  required: true
                  type: string
                  x-go-name: Post
            produces:
                - application/json
            responses:
                "204":
                    $ref: "#/responses/DeleteCommentResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - Post
        patch:
            description: Update comment content by comment id with given post id
            operationId: updateComment
            parameters:
                - format: uuid
                  in: path
                  name: comment
                  required: true
                  type: string
                  x-go-name: Comment
                - in: body
                  name: Body
                  required: true
                  schema:
                      $ref: "#/definitions/CommentUpdateRequestBody"
                - format: uuid
                  in: path
                  name: post
                  required: true
                  type: string
                  x-go-name: Post
            produces:
                - application/json
            responses:
                "201":
                    $ref: "#/responses/CreateUpdateCommentResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - Post
    /register:
        post:
            description: Returns the user and token by given credentials
            operationId: createUser
            parameters:
                - in: body
                  name: Body
                  required: true
                  schema:
                      $ref: "#/definitions/RegisterRequestBody"
            produces:
                - application/json
            responses:
                "200":
                    $ref: "#/responses/RegisterLoginUserResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            tags:
                - User
    /users:
        get:
            description: Returns a list of all users
            operationId: allowempty
            produces:
                - application/json
            responses:
                "200":
                    $ref: "#/responses/GetUsersResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            tags:
                - User
    /users/{user}:
        delete:
            description: Delete user by id
            operationId: deleteUser
            parameters:
                - format: uuid
                  in: path
                  name: user
                  required: true
                  type: string
                  x-go-name: User
            produces:
                - application/json
            responses:
                "204":
                    $ref: "#/responses/DeleteUserResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - User
        get:
            description: Returns the user by given id
            operationId: getUser
            parameters:
                - format: uuid
                  in: path
                  name: user
                  required: true
                  type: string
                  x-go-name: User
            produces:
                - application/json
            responses:
                "200":
                    $ref: "#/responses/GetUserResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            tags:
                - User
        patch:
            description: Update user by id with given fields
            operationId: updateUser
            parameters:
                - format: uuid
                  in: path
                  name: user
                  required: true
                  type: string
                  x-go-name: User
                - in: body
                  name: Body
                  required: true
                  schema:
                      $ref: "#/definitions/UserUpdateRequestBody"
            produces:
                - application/json
            responses:
                "201":
                    $ref: "#/responses/UpdateUserResponse"
                default:
                    $ref: "#/responses/ErrorResponse"
            schemes:
                - http
                - https
            security:
                - bearerAuth: []
            tags:
                - User
produces:
    - application/json
responses:
    CreateUpdateCommentResponse:
        description: ""
        schema:
            type: string
    CreateUpdatePostResponse:
        description: ""
        schema:
            type: string
    DeleteCommentResponse:
        description: ""
    DeletePostResponse:
        description: ""
    DeleteUserResponse:
        description: ""
    ErrorResponse:
        description: ""
        schema:
            $ref: "#/definitions/BaseResponseBody"
    GetPostResponse:
        description: ""
        schema:
            $ref: "#/definitions/GetPostResponseBody"
    GetPostsResponse:
        description: ""
        schema:
            $ref: "#/definitions/GetPostsResponseBody"
    GetUserResponse:
        description: ""
        schema:
            $ref: "#/definitions/GetUserResponseBody"
    GetUsersResponse:
        description: ""
        schema:
            $ref: "#/definitions/GetUsersResponseBody"
    RegisterLoginUserResponse:
        description: ""
        schema:
            $ref: "#/definitions/RegisterLoginUserResponseBody"
    UpdateUserResponse:
        description: ""
        schema:
            type: string
schemes:
    - http
    - https
securityDefinitions:
    bearerAuth:
        description: JWT Authorization header
        in: header
        name: Authorization
        type: apiKey
swagger: "2.0"
